(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{2936:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(9287)}])},9287:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>x});var i=s(7876),t=s(4250),r=s.n(t),n=s(4232),l=s(6768),d=s(8230),o=s.n(d),c=s(2934),f=s(4705);let m=e=>fetch(e).then(e=>e.json());function x(){let{data:e,status:a}=(0,c.useSession)(),[s,t]=(0,n.useState)("top"),{data:d,error:x}=(0,l.Ay)("top"===s?"https://api.jikan.moe/v4/top/anime":"upcoming"===s?"https://api.jikan.moe/v4/seasons/upcoming":"https://api.jikan.moe/v4/top/anime?filter=bypopularity",m),[p,h]=(0,n.useState)(""),[j,u]=(0,n.useState)([]),[g,v]=(0,n.useState)(!1),b=(0,n.useRef)(null);return((0,n.useEffect)(()=>{if(0===p.length){u([]),v(!1);return}let e=setTimeout(()=>{fetch("https://api.jikan.moe/v4/anime?q=".concat(encodeURIComponent(p),"&limit=5")).then(e=>e.json()).then(e=>{e&&e.data?(u(e.data),v(!0)):(u([]),v(!1))}).catch(()=>{u([]),v(!1)})},300);return()=>clearTimeout(e)},[p]),(0,n.useEffect)(()=>{function e(e){b.current&&!b.current.contains(e.target)&&v(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),x)?(0,i.jsx)("div",{children:"Failed to load anime data"}):d?"loading"===a?(0,i.jsx)("div",{children:"Loading session..."}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"jsx-d6ea741f95de863e background-video-container",children:[(0,i.jsx)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,src:"/video1.mp4",style:{filter:"blur(8px) brightness(0.4)",opacity:.5},className:"jsx-d6ea741f95de863e background-video"}),(0,i.jsx)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,src:"/video2.mp4",style:{filter:"blur(12px) brightness(0.3)",opacity:.3},className:"jsx-d6ea741f95de863e background-video overlay"})]}),(0,i.jsxs)("div",{style:{padding:"20px",position:"relative",zIndex:1},className:"jsx-d6ea741f95de863e container",children:[(0,i.jsx)("header",{style:{padding:"20px",backgroundColor:"rgba(17, 17, 17, 0.8)",color:"#00ffff",fontFamily:"monospace",borderBottom:"2px solid #222",position:"relative",zIndex:2},className:"jsx-d6ea741f95de863e",children:(0,i.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",alignItems:"center"},className:"jsx-d6ea741f95de863e",children:[(0,i.jsxs)("div",{className:"jsx-d6ea741f95de863e",children:[" ",(0,i.jsx)("h1",{style:{fontSize:"2rem",textShadow:"0 0 5px #00ffff",marginBottom:"10px"},className:"jsx-d6ea741f95de863e",children:"ANIMEFLOW"})," "]}),(0,i.jsxs)("nav",{style:{display:"flex",flexWrap:"wrap",gap:"12px",alignItems:"center"},className:"jsx-d6ea741f95de863e",children:[["top","upcoming","popular"].map(e=>(0,i.jsx)(f.P.button,{onClick:()=>t(e),disabled:s===e,whileHover:{scale:1.1},whileTap:{scale:.95},style:{padding:"10px 15px",backgroundColor:s===e?"#00ffff":"#222",color:s===e?"#111":"#fff",border:"1px solid #00ffff",borderRadius:"6px",fontSize:"1rem",fontFamily:"monospace",cursor:"pointer",transition:"0.3s"},children:e.charAt(0).toUpperCase()+e.slice(1)},e)),e?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("span",{style:{marginLeft:"1rem",fontSize:"0.95rem"},className:"jsx-d6ea741f95de863e",children:["Hello, ",e.user.email]}),(0,i.jsx)("button",{onClick:()=>(0,c.signOut)(),style:{marginLeft:"1rem",backgroundColor:"#ff4d4d",color:"#fff",border:"none",padding:"8px 12px",borderRadius:"6px",cursor:"pointer",fontFamily:"monospace"},className:"jsx-d6ea741f95de863e",children:"Logout"}),(0,i.jsx)(o(),{href:"/watchlist",legacyBehavior:!0,children:(0,i.jsx)("a",{style:{marginLeft:"1rem",color:"#00ffff",textDecoration:"underline"},className:"jsx-d6ea741f95de863e",children:"Watchlist"})}),(0,i.jsx)(o(),{href:"/review",legacyBehavior:!0,children:(0,i.jsx)("a",{style:{marginLeft:"1rem",color:"#00ffff",textDecoration:"underline"},className:"jsx-d6ea741f95de863e",children:"Create Review Poster"})})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o(),{href:"/login",legacyBehavior:!0,children:(0,i.jsx)("a",{style:{marginLeft:"1rem",color:"#00ffff",textDecoration:"underline"},className:"jsx-d6ea741f95de863e",children:"Login"})}),(0,i.jsx)(o(),{href:"/register",legacyBehavior:!0,children:(0,i.jsx)("a",{style:{marginLeft:"1rem",color:"#00ffff",textDecoration:"underline"},className:"jsx-d6ea741f95de863e",children:"Register"})})]})]})]})}),(0,i.jsxs)("div",{style:{marginTop:"20px",position:"relative",zIndex:2},ref:b,className:"jsx-d6ea741f95de863e",children:[(0,i.jsx)("input",{type:"text",placeholder:"Search anime...",value:p,onChange:e=>h(e.target.value),onFocus:()=>{j.length>0&&v(!0)},className:"jsx-d6ea741f95de863e search-box"}),g&&j.length>0&&(0,i.jsx)("div",{className:"jsx-d6ea741f95de863e search-results-dropdown",children:j.map(e=>(0,i.jsx)(o(),{href:"/anime/".concat(e.mal_id),legacyBehavior:!0,children:(0,i.jsxs)("a",{onClick:()=>v(!1),className:"jsx-d6ea741f95de863e",children:[e.trailer&&e.trailer.embed_url?(0,i.jsx)("iframe",{src:e.trailer.embed_url,title:"Trailer",width:"80",height:"45",style:{borderRadius:"4px",marginRight:"10px"},frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"jsx-d6ea741f95de863e"}):(0,i.jsx)("img",{src:e.images.jpg.image_url,alt:e.title,style:{width:"50px",height:"70px",borderRadius:"4px",marginRight:"10px",objectFit:"cover"},className:"jsx-d6ea741f95de863e"}),(0,i.jsx)("span",{className:"jsx-d6ea741f95de863e",children:e.title})]})},e.mal_id))})]}),(0,i.jsxs)("main",{style:{marginTop:"30px",position:"relative",zIndex:2},className:"jsx-d6ea741f95de863e",children:[(0,i.jsxs)("h2",{className:"jsx-d6ea741f95de863e",children:[s.charAt(0).toUpperCase()+s.slice(1)," Anime"]}),(0,i.jsx)("div",{className:"jsx-d6ea741f95de863e anime-grid",children:d.data.map(e=>(0,i.jsx)("div",{className:"jsx-d6ea741f95de863e anime-item",children:(0,i.jsx)(o(),{href:"/anime/".concat(e.mal_id),legacyBehavior:!0,children:(0,i.jsxs)("a",{className:"jsx-d6ea741f95de863e",children:[(0,i.jsx)("img",{src:e.images.jpg.image_url,alt:e.title,className:"jsx-d6ea741f95de863e anime-image"}),(0,i.jsx)("h3",{className:"jsx-d6ea741f95de863e",children:e.title}),(0,i.jsxs)("p",{className:"jsx-d6ea741f95de863e",children:["Score: ",e.score||"N/A"]})]})})},e.mal_id))})]})]}),(0,i.jsx)(r(),{id:"d6ea741f95de863e",children:".background-video-container.jsx-d6ea741f95de863e{position:fixed;top:0;left:0;width:100vw;height:100vh;overflow:hidden;z-index:0}.background-video.jsx-d6ea741f95de863e{position:absolute;top:50%;left:50%;min-width:100%;min-height:100%;width:auto;height:auto;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-o-object-fit:cover;object-fit:cover;-webkit-filter:blur(8px)brightness(.4);filter:blur(8px)brightness(.4);opacity:.5;z-index:0}.background-video.overlay.jsx-d6ea741f95de863e{opacity:.3;-webkit-filter:blur(12px)brightness(.3);filter:blur(12px)brightness(.3)}"})]}):(0,i.jsx)("div",{className:"loading-screen",children:(0,i.jsx)("video",{src:"/loading.mp4",autoPlay:!0,loop:!0,muted:!0,style:{width:"100%",height:"100%",objectFit:"cover",position:"absolute",top:"0",left:"0",zIndex:"9999",filter:"blur(8px) brightness(0.4)",opacity:.5}})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[230,768,894,636,593,792],()=>a(2936)),_N_E=e.O()}]);